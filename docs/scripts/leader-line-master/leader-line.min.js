document.addEventListener("DOMContentLoaded", function() {

  document.querySelectorAll('.leaderline').forEach(function(el) {

    const startId = el.getAttribute('start');
    const endId   = el.getAttribute('end');

    const startSocket = el.getAttribute('start-socket') || 'auto';
    const endSocket   = el.getAttribute('end-socket') || 'auto';
    const size        = parseInt(el.getAttribute('size')) || 2;
    const color       = el.getAttribute('color') || 'black';
    const startPlugColor = el.getAttribute('start-plug-color') || color;
    const endPlugColor   = el.getAttribute('end-plug-color') || color;
    const gradient   = el.getAttribute('gradient') === 'true';
    const path       = el.getAttribute('path') || 'straight';
    const startPlug  = el.getAttribute('start-plug') || 'disc';
    const endPlug    = el.getAttribute('end-plug') || 'disc';

    if (startId && endId) {
      new LeaderLine(
        document.getElementById(startId),
        document.getElementById(endId),
        {
          startSocket: startSocket,
          endSocket: endSocket,
          size: size,
          startPlug: startPlug,
          endPlug: endPlug,
          startPlugColor: startPlugColor,
          endPlugColor: endPlugColor,
          gradient: gradient,
          path: path,
          color: color
        }
      );
    }
  });

});
